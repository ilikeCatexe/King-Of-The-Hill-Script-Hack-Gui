_G.god = false
local player = game.Players.LocalPlayer
local mouse = game.Players.LocalPlayer:GetMouse()
local MessageSender = game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest
_G.exch = false
_G.chaos = -1
delay(0,function()
    local xx = 0
    while true do
        wait(0.25-_G.chaos)
        for iwe = 1,1+10*_G.chaos do
            xx += 1
            print(xx)
            local ray = RaycastParams.new()
            local hit = workspace:Raycast(Vector3.new(math.random(-396,363),300,math.random(-103,142)),Vector3.new(0,-1000,0),ray)
            if hit ~= nil then
                if _G.chaos < 0.1 then
                    for i = 1,10 do
                        game:GetService("ReplicatedStorage").Events.createLightning:FireServer(hit.Position+Vector3.new(math.random(-12,12),2,math.random(-12,12)))
                    end
                else
                    for i = 1,3 do
                        game:GetService("ReplicatedStorage").Events.createLightning:FireServer(hit.Position+Vector3.new(math.random(-12,12),2,math.random(-12,12)))
                    end
                end
            end
        end
        if xx > math.random(4250,15000) then
            xx = 0
            for h = 1,1 do
                for i = 1,45 do
                    wait(0.15/h)
                    for i3 = 1,3 do
                        local ray = RaycastParams.new()
                        local hit2 = workspace:Raycast(Vector3.new(400-20*i,300,-110),Vector3.new(0,-1000,0),ray)
                        if hit2 ~= nil then
                            game:GetService("ReplicatedStorage").Events.createLightning:FireServer(hit2.Position+Vector3.new(0,2*i3,0))
                        end
                    end
                    for i2 = 1,16 do
                        for i3 = 1,3 do
                            local ray = RaycastParams.new()
                            local hit3 = workspace:Raycast(Vector3.new(400-20*i,300,-100+20*i2),Vector3.new(0,-1000,0),ray)
                            if hit3 ~= nil then
                                game:GetService("ReplicatedStorage").Events.createLightning:FireServer(hit3.Position+Vector3.new(0,2*i3,0))
                            end
                        end
                    end
                end
                wait(120)
            end
        end
    end
end)
delay(0,function()while true do
        wait(1)
        if _G.god == true then
            game.ReplicatedStorage.Events.createForceField:FireServer("create")
            if game.Players.LocalPlayer.PlayerScripts:FindFirstChild("DetectSafeZone") then
                game.Players.LocalPlayer.PlayerScripts.DetectSafeZone:Destroy()
            end
        else
            game.ReplicatedStorage.Events.createForceField:FireServer("remove")
        end
    end
end)
local x = 1
local y = 1
local z = 1
local x1 = 1
local hold = false
local hold2 = true
print('h2')
if player:FindFirstChild("noob l") == nil then
    local inj = Instance.new("Part",player)
    inj.Name = "noob l"
    print('h')
    mouse.KeyDown:Connect(function(key)
        if key == "p" then
            _G.exch = not _G.exch
        end
        if key == "f" then
            hold = true
            while hold == true do
                wait(0)
                game.ReplicatedStorage.Values.CurrentKing.Value = player.Name
                game:GetService("ReplicatedStorage").Events.createLightning:FireServer(mouse.Hit.p)
            end
        elseif key == "r" then
            for i = 1,10 do
                game:GetService("ReplicatedStorage").Events.createLightning:FireServer(mouse.Hit.p)
            end
        elseif key == "h" then
            for i = 1,20 do
                game:GetService("ReplicatedStorage").Events.createLightning:FireServer(mouse.Hit.p+Vector3.new(math.random(-20,20),0,math.random(-20,20)))
            end
        elseif key == "j" then
            local p = mouse.Hit.p
            local areanumba = x1
            x1+=1
            while hold2 == true do
                wait(0.2)
                if workspace.LightningStrikes:FindFirstChild("block"..areanumba) == nil then
                    local block = Instance.new("Part")
                    block.Size = Vector3.new(25*2,1,25*2)
                    block.Parent = workspace.LightningStrikes
                    block.Position = p
                    block.Anchored = true
                    block.CastShadow = false
                    block.CanCollide = false
                    block.Transparency = 0.65
                    block.Color = Color3.new(0,0.5,0)
                    block.Name = "block"..areanumba
                end
                for i = 1,20 do
                    delay(0, function()
                        z+=math.pi/20
                        local ray = RaycastParams.new()
                        ray.FilterDescendantsInstances = workspace.LightningStrikes:GetChildren()
                        ray.FilterType = Enum.RaycastFilterType.Blacklist
                        local list = game.Players:GetChildren()
                        local rng = math.random(1,75)
                        local hit2 = workspace:Raycast(p+Vector3.new(25*math.sin(z), 100, 25*math.cos(z)),Vector3.new(0,-1000,0),ray)
                        if hit2 ~= nil then
                            if rng == 0 then
                                game:GetService("ReplicatedStorage").Events.createLightning:FireServer(hit2.Position+Vector3.new(0,1,0))
                            end
                            for i,v in pairs(list)do
                                if v.Character and v.Character:FindFirstChild("HumanoidRootPart") and (v.Character.HumanoidRootPart.Position-hit2.Position).magnitude < 21 then
                                    game:GetService("ReplicatedStorage").Events.createLightning:FireServer(hit2.Position+Vector3.new(0,1,0))
                                end
                            end
                        end
                    end)
                end
            end
        elseif key == "k" then
            hold2 = not hold2
            wait(0.4)
            for i,v in pairs(workspace.LightningStrikes:GetChildren())do
                v:Destroy()
            end
        elseif key == "z" then
            exch = not exch
        elseif key == "x" then
            game.Players.LocalPlayer.Character.Humanoid.Sit = true
        elseif key == 'u' then 
            if _G.god == false then
                _G.god = true
                print("god on nerd")
            else
                _G.god = false
                print('off')
            end
        end
    end)
    mouse.KeyUp:Connect(function(key)
        if key == "f" then
            hold = false
        end
    end)
end
 
local function Lunge(tol)
local dir = (player.Character.HumanoidRootPart.CFrame.LookVector * Vector3.new(1, 0, 1)).unit
local start = player.Character.HumanoidRootPart.CFrame.p
for i = 1, 30 do
delay(0, function()
game:GetService("ReplicatedStorage").Events.createLightning:FireServer(start + dir * 12 + dir * 5 * i)
end)
end
wait(1.2)
tol.Parent = player.Backpack
wait(0.1)
player.Character.Humanoid:EquipTool(tol)
end
 
local RunService = game:GetService("RunService")
local LastAttack = 0
while true do
wait(1)
for i,v in pairs(player.Backpack:GetChildren()) do
if v.Name == "Wooden Sword" and v:FindFirstChild("inin") == nil then
local inin = Instance.new("Model")
inin.Name = "inin"
inin.Parent = v
local a
a = RunService.Heartbeat:Connect(function()
if v ~= nil and v.Parent ~= nil then
v.GripPos = Vector3.new(0, 0, 1.5)
v.GripUp = Vector3.new(0, 0, -1)
else
a:Disconnect()
end
end)
v.Activated:Connect(function()
if not v.Enabled then
        return
    end
    v.Enabled = false
    local Tick = RunService.Stepped:wait()
    Lunge(v)
    LastAttack = Tick
    v.Enabled = true
end)
end
end
    for i,v in pairs(game.Workspace.Chickens:GetChildren()) do
        if v.Name ~= "GoldenChicken" and v:FindFirstChild("Health") and _G.exch == true and not v:FindFirstChild("connected") then
            local thing = Instance.new("NumberValue")
            thing.Name = "connected"
            thing.Parent = v
            v.Health:GetPropertyChangedSignal("Value"):Connect(function()
                delay(0,function()
                    game:GetService("ReplicatedStorage").Events.createLightning:FireServer(v.Position+Vector3.new(math.random(-3,3),2,math.random(-3,3)))
                end)
            end)
        end
    end
end
